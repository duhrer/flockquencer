<html>
    <head>
        <title>Multi-Sequence Test</title>

        <script src="../node_modules/infusion/dist/infusion-all.js"></script>

        <!-- Flocking dependencies -->
        <script src="../node_modules/flocking/dist/flocking-all.js"></script>
        <script src="../node_modules/flocking/src/ui/selectbox/js/selectbox.js"></script>
        <script src="../node_modules/flocking/src/ui/midi/midi-port-selector/js/midi-port-selector.js"></script>
        <script src="../node_modules/flocking/src/ui/midi/midi-connector/js/midi-connector.js"></script>
        <script src="../node_modules/flocking-midi-router/src/midi-router.js"></script>
        <script src="../node_modules/flocking-midi-router/src/ui/browser-router.js"></script>

        <!-- Bergson dependencies -->
        <script src="../node_modules/bergson/dist/bergson-only.js"></script>

        <script src="../src/js/connector.js"></script>
        <script src="../src/js/sequence.js"></script>
        <script src="../src/js/sequence-player.js"></script>

        <!-- Test Harness and sample data. -->
        <script src="./js/sequence-player-harness.js"></script>
    </head>
    <body>
        <p><a href="index.html">Demos</a> > Multi-Sequence </p>

        <p>Connect this to an output and start the sequence to hear a multi-sequence arrangement that consists of
            overlapping 1, 2, 3, and 4 note sequences playing simultaneously.</p>

        <div class="sequence-player">
            <div class="control-output"></div>
            <button class="stop-button">Stop</button>
            <button class="start-button">Start</button>
            <p>bpm: <input type="text" class="bpm" value="120"></p>
        </div>

        <script type="text/javascript">
            var harness = flockquencer.demo.sequencePlayer(".sequence-player", {
                components: {
                    sequencerPlayer: {
                        options: {
                            model: {
                                sequences: {
                                    every: {
                                        status: flockquencer.sequence.status.STOPPED,
                                        length: 1,
                                        steps: {
                                            0: {
                                                notes: [ 79 ]
                                            }
                                        }
                                    },
                                    everyOther: {
                                        status: flockquencer.sequence.status.STOPPED,
                                        length: 2,
                                        steps: {
                                            0: {
                                                notes: [ 67 ]
                                            }
                                        }
                                    },
                                    everyFourth: {
                                        status: flockquencer.sequence.status.STOPPED,
                                        length: 4,
                                        steps: {
                                            0: {
                                                notes: [ 72 ]
                                            }
                                        }
                                    },
                                    everyEight: {
                                        status: flockquencer.sequence.status.STOPPED,
                                        length: 8,
                                        steps: {
                                            0: {
                                                notes: [ 75 ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            });
        </script>
    </body>
</html>
